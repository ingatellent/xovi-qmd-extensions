AFFECT [[11806562588218124596]]
    TRAVERSE [[8397993708429497603]]#[[6504254477]]
        REBUILD [[9085359462190807404]]
	    LOCATE BEFORE ALL
	       REPLACE { ~&6504254477&~.~&15777890623490054006&~ } WITH { ~&6504254477&~.~&15777890623490054006&~ * ~&6504254477&~.~&254547437090201330&~.scaleFactor }
	       REPLACE { ~&6504254477&~.~&4161556510681018511&~ } WITH { ~&6504254477&~.~&254547437090201330&~.adjustedCenter }
	END REBUILD
        TRAVERSE ?#[[6504391364]]
            LOCATE AFTER ALL
                INSERT {
		    readonly property ~&6503679477&~ viewActive: ~&6504391364&~.~&7083177691309&~ === ~&254502432014417618&~.~&7081201431845&~ && ~&6504391364&~.~&8399340108982949229&~ && ~&6504391364&~.~&233748328658231&~
		    readonly property ~&6503679477&~ isCustomFit: ~&6504254477&~.~&7713872915752115&~ === ~&7711571060833448&~.~&254480714936511047&~ && !~&6504254477&~.~&7713361680718652&~
		    readonly property ~&6504243117&~ scaleFactor: isCustomFit ? ~&6504391364&~.~&214646099849&~/2160 : 1
		    readonly property ~&197088788&~ ~&3441383163987203818&~: (~&6504391364&~.~&7082729686082&~/scaleFactor-1620) / 2 
		    readonly property ~&214638019283&~ adjustedCenter: viewActive ? (isCustomFit ? ~&5971598&~.~&214638019283&~(~&6504391364&~.~&4161556510681018511&~.~&180993&~, ~&6504391364&~.~&4161556510681018511&~.~&180994&~ + ~&6504391364&~.~&3441383163987203818&~/~&6504391364&~.~&15777890623490054006&~) : ~&6504391364&~.~&4161556510681018511&~) : ~&5971598&~.~&214638019283&~(0,0)

		    function adjustCenterAndScale() {
			~&5972376&~ (isCustomFit && ~&6504391364&~.~&7083177691309&~ === ~&254502432014417618&~.~&7081201431845&~ && ~&6504391364&~.~&8399340108982949229&~ && ~&6504391364&~.~&233748328658231&~) {
			    ~&197102514&~ scaledVerticalOffset = ~&3441383163987203818&~ / ~&6504391364&~.~&15777890623490054006&~
			    ~&6504391364&~.~&10753335312005174244&~(~&5971598&~.~&214638019283&~(~&6504391364&~.~&4161556510681018511&~.~&180993&~ , ~&6504391364&~.~&4161556510681018511&~.~&180994&~ + scaledVerticalOffset ), ~&6504391364&~.~&15777890623490054006&~*scaleFactor);
			    ~&6504254477&~.~&2491156027386016279&~ = ~&214625660372&~;
			}
		    }

		    ~&17742136325200165396&~: adjustCenterAndScale()
		    ~&13733777459642361598&~: adjustCenterAndScale() 

		    ~&428051690305612204&~ {
			~&7083194890448&~: ~&6504254477&~.~&495572996767745525&~
			~&233726547792244&~: isCustomFit 
			function ~&4934706584521522300&~() {
				adjustCenterAndScale()
			}
		    }
		}	 
        END TRAVERSE
    END TRAVERSE
END AFFECT
AFFECT [[8778541058970153717]]
    TRAVERSE [[214600077661]]#[[11240834885082019025]]
        REBUILD [[7082546018642]]
            LOCATE BEFORE ALL
                REPLACE { ~&473483224936238972&~ } WITH { ~&473483224936238972&~ * ( 2160 / ~&214646099849&~ ) }
                REPLACE { ~&6504391364&~.~&502817364213021138&~.~&7082534202858&~ } WITH { ~&5971598&~.~&214638019283&~(~&6504391364&~.~&502817364213021138&~.~&7082534202858&~.~&180993&~, ~&6504391364&~.~&502817364213021138&~.~&7082534202858&~.~&180994&~ - (~&7082729686082&~/~&214646099849&~*2160-1620) / (2 * ~&214641137009&~)) }
        END REBUILD
    END TRAVERSE
END AFFECT
